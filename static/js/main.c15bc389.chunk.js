(this["webpackJsonpsysale-test"]=this["webpackJsonpsysale-test"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n.n(i),r=n(3),o=n.n(r),s=n(6),a=n(14),l=function(e,t){if(void 0===e)return{shampoos:[],loading:!0,error:null};switch(t.type){case"FETCH_SHAMPOO_REQUESTED":return{loading:!0,error:null};case"FETCH_SHAMPOO_SUCCESS":return{shampoos:t.payload,loading:!1,error:null};case"FETCH_SHAMPOO_FAILURE":return{loading:!1,error:t.payload};default:return e}},u=Object(a.a)(l),m=n(4),d=n(5),j=function(){function e(){Object(m.a)(this,e),this.data=[{id:1,name:"\u0428\u0430\u043c\u043f\u0443\u043d\u044c",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco.",fresh:!0,variants:[{sku:1,price:200,color:"black",volume:100,inventory:9},{sku:2,price:250,color:"read",volume:200,inventory:9},{sku:3,price:300,color:"green",volume:300,inventory:9}],images:["img/1/image23.jpg","img/1/image24.jpg"]},{id:2,name:"\u0428\u0430\u043c\u043f\u0443\u043d\u044c",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco.",fresh:!0,variants:[{sku:1,price:200,color:"black",volume:100,inventory:9},{sku:2,price:250,color:"read",volume:200,inventory:9},{sku:3,price:300,color:"green",volume:300,inventory:9}],images:["img/2/image23.jpg","img/2/image24.jpg"]},{id:3,name:"\u0428\u0430\u043c\u043f\u0443\u043d\u044c",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco.",fresh:!0,variants:[{sku:1,price:200,color:"black",volume:100,inventory:9},{sku:2,price:250,color:"read",volume:200,inventory:9},{sku:3,price:300,color:"green",volume:300,inventory:9}],images:["img/3/image23.jpg","img/3/image24.jpg"]}]}return Object(d.a)(e,[{key:"getShampoos",value:function(){var e=this;return new Promise((function(t,n){setTimeout((function(){t(e.data)}),1e3)}))}}]),e}(),b=Object(i.createContext)(),p=(n(24),n(25),n(26),n(1)),O=function(){return Object(p.jsx)("div",{children:Object(p.jsx)("h3",{children:"Oppps..."})})},v=(n(28),function(){return Object(p.jsx)("div",{className:"spinner-wrapper",children:Object(p.jsxs)("div",{className:"spinner",children:[Object(p.jsx)("div",{className:"blob top"}),Object(p.jsx)("div",{className:"blob bottom"}),Object(p.jsx)("div",{className:"blob left"}),Object(p.jsx)("div",{className:"blob move-blob"})]})})}),h=n(2),f=n(8),x=n(12),g=(n(29),function(e){var t,n=[],i=Object(x.a)(e);try{for(i.s();!(t=i.n()).done;){var c=t.value;n.includes(c)||n.push(c)}}catch(r){i.e(r)}finally{i.f()}return n}),_=function(e){var t=e.variants.volume,n=e.id,i=e.onVolumeSelect,c=e.currentVolume;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("input",{type:"radio",id:n+t,name:n,onChange:function(){return i(t)},checked:c===t}),Object(p.jsxs)("label",{htmlFor:n+t,children:[t," \u043c\u043b"]})]})},N=function(e){var t=e.items,n=Object(i.useState)(null),c=Object(f.a)(n,2),r=c[0],o=c[1];return Object(p.jsxs)("div",{className:"select".concat(r?" active":""),children:[Object(p.jsx)("span",{className:"select__item select__title",onClick:function(){o((function(e){return!e}))},children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0446\u0432\u0435\u0442"}),Object(p.jsx)("div",{className:"select__list",children:g(t.map((function(e){return e.color}))).map((function(e){return Object(p.jsx)("span",{className:"select__item select__list-item",children:e},e)}))})]})},k=function(e){var t=e.images,n=Object(i.useState)(!1),c=Object(f.a)(n,2),r=c[0],o=c[1];return Object(p.jsx)("div",{className:"list-item__img",onMouseOut:Object(i.useCallback)((function(){return o(!1)}),[o]),onMouseOver:Object(i.useCallback)((function(){return o(!0)}),[o]),children:Object(p.jsx)("img",{src:r?t[0]:t[1],alt:""})})},y=function(e){var t=e.item,n=t.name,c=t.description,r=t.images,o=t.variants,s=t.fresh,a={item:Object(h.a)({},t),count:1,total:t.variants[0].price,comparison:!1},l=Object(i.useState)(a),u=Object(f.a)(l,2),m=u[0],d=u[1],j=function(e){d((function(n){var i=o.filter((function(t){return t.volume===e}));return Object(h.a)(Object(h.a)({},n),{},{item:Object(h.a)(Object(h.a)({},t),{},{variants:i}),total:n.count*i[0].price})}))};return Object(p.jsxs)("div",{className:"list-item",children:[Object(p.jsx)(k,{images:r}),Object(p.jsx)("h2",{className:"list-item__title",children:n}),Object(p.jsx)("p",{className:"list-item__description",children:c}),Object(p.jsxs)("div",{className:"list-item__row",children:[Object(p.jsx)(N,{items:o}),Object(p.jsxs)("span",{className:"list-item__price",children:[m.total,"\u0433\u0440\u043d"]})]}),o.map((function(e){return Object(p.jsx)("div",{className:"form-radio",children:Object(p.jsx)(_,{variants:e,id:m.item.id,onVolumeSelect:j,currentVolume:m.item.variants[0].volume})},e.sku)})),Object(p.jsxs)("div",{className:"list-item__row",children:[Object(p.jsxs)("div",{className:"btn-group",children:[Object(p.jsx)("button",{className:"btn",onClick:function(){d((function(e){var t=e.count,n=t>1?t-1:t;return Object(h.a)(Object(h.a)({},m),{},{count:n,total:n*m.item.variants[0].price})}))},children:"\u2013"}),Object(p.jsx)("span",{children:m.count}),Object(p.jsx)("button",{className:"btn",onClick:function(){d((function(e){var t=e.count,n=t?t+1:t;return Object(h.a)(Object(h.a)({},m),{},{count:t+1,total:n*m.item.variants[0].price})}))},children:"+"})]}),Object(p.jsx)("button",{className:"btn btn--large",onClick:function(){return function(e){console.log(e)}(m)},children:"\u041a\u0443\u043f\u0438\u0442\u044c"})]}),s?Object(p.jsx)("div",{className:"pills",children:"New"}):null,Object(p.jsx)("button",{className:"btn btn-comparison".concat(m.comparison?" active":""),onClick:function(){d((function(e){return Object(h.a)(Object(h.a)({},e),{},{comparison:!e.comparison})}))},children:"\u0421\u0440\u0430\u0432\u043d\u0438\u0442\u044c"})]})},S=function(e){var t=e.shampoos;return Object(p.jsx)("div",{className:"shampoo-list",children:t.map((function(e){return Object(p.jsx)("div",{className:"shampoo-list__item",children:Object(p.jsx)(y,{item:e})},e.id)}))})},C={shampooRequested:function(){return{type:"FETCH_SHAMPOO_REQUESTED"}},shampooLoaded:function(e){return{type:"FETCH_SHAMPOO_SUCCESS",payload:e}},shampooError:function(e){return{type:"FETCH_SHAMPOO_FAILURE",payload:e}}},E=Object(s.b)((function(e){return{shampoos:e.shampoos,loading:e.loading,error:e.error}}),C)((function(e){var t=e.shampooRequested,n=e.shampooLoaded,c=e.shampooError,r=e.shampoos,o=e.loading,s=e.error,a=Object(i.useContext)(b);return Object(i.useEffect)((function(){var e=!1;return t(),a.getShampoos().then((function(t){return!e&&n(t)})).catch((function(t){return!e&&c(t)})),function(){return e=!0}}),[a,t,n,c]),s?Object(p.jsx)(O,{}):o?Object(p.jsx)(v,{}):Object(p.jsx)(S,{shampoos:r})})),H=n(15),F=n(13),w=function(e){Object(H.a)(n,e);var t=Object(F.a)(n);function n(e){var i;return Object(m.a)(this,n),(i=t.call(this,e)).state={error:!1},i}return Object(d.a)(n,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?Object(p.jsx)(O,{}):this.props.children}}]),n}(i.Component),M=new j;o.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(s.a,{store:u,children:Object(p.jsx)(w,{children:Object(p.jsx)(b.Provider,{value:M,children:Object(p.jsx)(E,{})})})})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.c15bc389.chunk.js.map