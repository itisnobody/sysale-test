(this["webpackJsonpsysale-test"]=this["webpackJsonpsysale-test"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(3),i=n.n(s),a=n(6),o=n(14),l=function(e,t){if(void 0===e)return{shampoos:[],loading:!0,error:null};switch(t.type){case"FETCH_SHAMPOO_REQUESTED":return{loading:!0,error:null};case"FETCH_SHAMPOO_SUCCESS":return{shampoos:t.payload,loading:!1,error:null};case"FETCH_SHAMPOO_FAILURE":return{loading:!1,error:t.payload};default:return e}},u=Object(o.a)(l),j=n(4),m=n(5),b=function(){function e(){Object(j.a)(this,e),this.data=[{id:1,name:"\u0428\u0430\u043c\u043f\u0443\u043d\u044c",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco.",fresh:!0,variants:[{sku:1,price:200,color:"black",volume:100,inventory:9},{sku:2,price:250,color:"read",volume:200,inventory:9},{sku:3,price:300,color:"green",volume:300,inventory:9}],images:["img/1/image23.jpg","img/1/image24.jpg"]}]}return Object(m.a)(e,[{key:"getShampoos",value:function(){var e=this;return new Promise((function(t,n){setTimeout((function(){t(e.data)}),1e3)}))}}]),e}(),d=Object(c.createContext)(),O=(n(24),n(25),n(26),n(1)),p=function(){return Object(O.jsx)("div",{children:Object(O.jsx)("h3",{children:"Oppps..."})})},h=(n(28),function(){return Object(O.jsx)("div",{className:"spinner-wrapper",children:Object(O.jsxs)("div",{className:"spinner",children:[Object(O.jsx)("div",{className:"blob top"}),Object(O.jsx)("div",{className:"blob bottom"}),Object(O.jsx)("div",{className:"blob left"}),Object(O.jsx)("div",{className:"blob move-blob"})]})})}),v=n(2),f=n(8),x=n(12),_=(n(29),function(e){var t,n=[],c=Object(x.a)(e);try{for(c.s();!(t=c.n()).done;){var r=t.value;n.includes(r)||n.push(r)}}catch(s){c.e(s)}finally{c.f()}return n}),g=function(e){var t=e.variants.volume,n=e.onVolumeSelect,c=e.currentVolume;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("input",{type:"radio",id:t,name:"volume",onChange:function(){return n(t)},checked:c===t}),Object(O.jsxs)("label",{htmlFor:t,children:[t," \u043c\u043b"]})]})},N=function(e){var t=e.items,n=Object(c.useState)(null),r=Object(f.a)(n,2),s=r[0],i=r[1];return Object(O.jsxs)("div",{className:"select".concat(s?" active":""),children:[Object(O.jsx)("span",{className:"select__item select__title",onClick:function(){i((function(e){return!e}))},children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0446\u0432\u0435\u0442"}),Object(O.jsx)("div",{className:"select__list",children:_(t.map((function(e){return e.color}))).map((function(e){return Object(O.jsx)("span",{className:"select__item select__list-item",children:e},e)}))})]})},S=function(e){var t=e.images;console.log(t);var n=Object(c.useState)(!1),r=Object(f.a)(n,2),s=r[0],i=r[1];return Object(O.jsx)("img",{className:"list-item__img",src:s?t[0]:t[1],onMouseOut:Object(c.useCallback)((function(){return i(!1)}),[i]),onMouseOver:Object(c.useCallback)((function(){return i(!0)}),[i]),alt:""})},C=function(e){var t=e.item,n=t.name,r=t.description,s=t.images,i=t.variants,a=t.fresh,o={item:Object(v.a)({},t),count:1,total:t.variants[0].price,comparison:!1},l=Object(c.useState)(o),u=Object(f.a)(l,2),j=u[0],m=u[1],b=function(e){m((function(n){var c=i.filter((function(t){return t.volume===e}));return Object(v.a)(Object(v.a)({},n),{},{item:Object(v.a)(Object(v.a)({},t),{},{variants:c}),total:n.count*c[0].price})}))};return Object(O.jsxs)("div",{className:"list-item",children:[Object(O.jsx)(S,{images:s}),Object(O.jsx)("img",{src:"./image23.jpg",alt:""}),Object(O.jsx)("h2",{className:"list-item__title",children:n}),Object(O.jsx)("p",{className:"list-item__description",children:r}),Object(O.jsxs)("div",{className:"list-item__row",children:[Object(O.jsx)(N,{items:i}),Object(O.jsxs)("span",{className:"list-item__price",children:[j.total,"\u0433\u0440\u043d"]})]}),i.map((function(e){return Object(O.jsx)("div",{className:"form-radio",children:Object(O.jsx)(g,{variants:e,onVolumeSelect:b,currentVolume:j.item.variants[0].volume})},e.sku)})),Object(O.jsxs)("div",{className:"list-item__row",children:[Object(O.jsxs)("div",{className:"btn-group",children:[Object(O.jsx)("button",{className:"btn",onClick:function(){m((function(e){var t=e.count,n=t>1?t-1:t;return Object(v.a)(Object(v.a)({},j),{},{count:n,total:n*j.item.variants[0].price})}))},children:"\u2013"}),Object(O.jsx)("span",{children:j.count}),Object(O.jsx)("button",{className:"btn",onClick:function(){m((function(e){var t=e.count,n=t?t+1:t;return Object(v.a)(Object(v.a)({},j),{},{count:t+1,total:n*j.item.variants[0].price})}))},children:"+"})]}),Object(O.jsx)("button",{className:"btn btn--large",onClick:function(){return function(e){console.log(e)}(j)},children:"\u041a\u0443\u043f\u0438\u0442\u044c"})]}),a?Object(O.jsx)("div",{className:"pills",children:"New"}):null,Object(O.jsx)("button",{className:"btn btn-comparison".concat(j.comparison?" active":""),children:"\u0421\u0440\u0430\u0432\u043d\u0438\u0442\u044c"})]})},y=function(e){var t=e.shampoos;return Object(O.jsx)("div",{className:"shampoo-list",children:t.map((function(e){return Object(O.jsx)("div",{className:"shampoo-list__item",children:Object(O.jsx)(C,{item:e})},e.id)}))})},E={shampooRequested:function(){return{type:"FETCH_SHAMPOO_REQUESTED"}},shampooLoaded:function(e){return{type:"FETCH_SHAMPOO_SUCCESS",payload:e}},shampooError:function(e){return{type:"FETCH_SHAMPOO_FAILURE",payload:e}}},k=Object(a.b)((function(e){return{shampoos:e.shampoos,loading:e.loading,error:e.error}}),E)((function(e){var t=e.shampooRequested,n=e.shampooLoaded,r=e.shampooError,s=e.shampoos,i=e.loading,a=e.error,o=Object(c.useContext)(d);return Object(c.useEffect)((function(){var e=!1;return o.getShampoos().then((function(t){return!e&&n(t)})).catch((function(t){return!e&&r(t)})),function(){return e=!0}}),[o,t,n,r]),a?Object(O.jsx)(p,{}):i?Object(O.jsx)(h,{}):Object(O.jsx)(y,{shampoos:s})})),H=n(15),F=n(13),w=function(e){Object(H.a)(n,e);var t=Object(F.a)(n);function n(e){var c;return Object(j.a)(this,n),(c=t.call(this,e)).state={error:!1},c}return Object(m.a)(n,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?Object(O.jsx)(p,{}):this.props.children}}]),n}(c.Component),M=new b;i.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(a.a,{store:u,children:Object(O.jsx)(w,{children:Object(O.jsx)(d.Provider,{value:M,children:Object(O.jsx)(k,{})})})})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.b66c1cee.chunk.js.map